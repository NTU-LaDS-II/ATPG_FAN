
<a name="readme-top"></a>

<h1 align="center">FAN ATPG</h1>
<h6><i>version 2023</i></h6>
<h6><i>Laboratory of Dependable Systems(II), Graduate Institute of Electronics Engineering,  National Taiwan University, Taiwan</i></h6>
<br>
<div align="center">
  <h4>An Automatic Test Pattern Generation Open Source Project</h4>
  <p align="center">
    <a href="https://github.com/NTU-LaDS-II/FAN_ATPG/blob/main/ATPG_UserGuide_20230108.pdf">
    <strong>User Guide Â»</strong></a>
  </p>
</div>

## Contents

<li>
  <a href="#introduction">Introduction</a>
</li>
<li>
  <a href="#file-structure">File Structure</a>
</li>
<li><a href="#environment-requisites">Environment Requisites</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#revision-history">Revision History</a></li>
<li><a href="#authors">Authors</a></li>
<li><a href="#license">License</a></li>
<li><a href="#contact">Contact</a></li>
<li><a href="#references">References</a></li>
<br/>

## Introduction

This project is an Automatic Test Pattern Generation (ATPG) and fault simulation command line tool based on the FAN algorithm[1].

This project includes the implementation of Fault Collapsing, Static Test Compression, Dynamic Test Compression and Multiple Fault Orderings.

We make this project an open source project in the hope of helping anyone who is learning ATPG. If you have any thoughts on the source code or new features for this project, feel free to fork this repo and create a pull request. Any contributions to this project would be very much appreciated!

We would also be extremely grateful if you star this project!

<p align="right">(<a href="#readme-top">back to top</a>)</p>

## File Structure

- `ATPG_UserGuide.pdf` : The User Guide
- `bin/` : Store binaries after compilation
- `include/` : Store header files included in and copied from `pkg` 
- `lib/` : Store library binaries after compilation
- `mod_netlist/`, `netlist/` : Store the benchmark circuits[2]
- `pat/` : Store the patterns generated by ATPG
- `pkg/` : All of the source code
  - `common/` : Common Linux command line instructions support
  - `core/` : Main ATPG algorithm and the fault simulation procedure 
  - `fan/` : The ATPG commands and entry point of the program
  - `interface/` : The interface for reading benchmark circuits 
- `rpt/` : Store the report after ATPG or fault simulation 
- `script/` : Scripts for running ATPG and fault simulation 
- `techlib/` : The cell libraries for benchmark circuits
- `copyHeader.sh` : Copy header files from `pkg/` to `include/`
- `*.mk` : Included in other makefiles

<p align="right">(<a href="#readme-top">back to top</a>)</p>


## Environment Requisites

### Prerequisites
* Operating System: *Linux*
* Compiler: *Support std C++11*
* Other tools: *Bison, Lex*

### Requisites Installation
```sh
sudo apt install bison
sudo apt install lex
```
### Check requisites Installation
```sh
bison --version
lex --version
```
<p align="right">(<a href="#readme-top">back to top</a>)</p>

## Usage

### Installation
_After the following commands are executed, an executable binary `fan` will be generated under `./bin/opt/`_
1. Clone the repo
    ```sh
    git clone https://github.com/NTU-LaDS-II/FAN_ATPG.git
    ```
2. Change directory
    ```sh
    cd FAN_ATPG/
    ```
3. Compile
    ```sh
    make
    ```

### Clean Installed Files
```sh
make clean
```

### Run ATPG
```sh
./bin/opt/fan -f script/fanScripts/atpg_s27.script
```

### Run Fault Simulation
```sh
./bin/opt/fan -f script/fanScripts/fsim_s27.script
```

<p align="right">(<a href="#readme-top">back to top</a>)</p>


## Revision History

* v2013 - Initial release
* v2014 - Code modifications
* v2023 - Code refactor for open source project

<p align="right">(<a href="#readme-top">back to top</a>)</p>


## Authors

>Original Authors<br>
>\- **Lin Hio-Ting**, Hsu Po-Ya, Liao Kuan-Yu<br><br>
> v2013<br>
>\- Han Cheng-You, Chen Ching-Yu, Chiang Kuan-Ying, Wang Ying-Hsu, Chen Po-Hao, Lin Kuo-Yu, Pan Chun-Han, Li Chia-An, Tsai Chia-Ling, Hsu Ling-Yun<br><br>
> v2014<br>
>\- He Yu-Hao, Cai Zong-Yan, How Bo-Fan, Li Yu-Qing, Huang Guan-Yan, Xiao Zhi-Long, Lin Kun-Wei, Lin Shi-Yao, Chen You-Wei, Li Guan-De<br><br>
> v2023<br>
>\- Wang Wei-Shen, Chang Hsin-Tzu, Pan Yu-Hung, Liang Zhe-Jia<br><br>
> Advisor<br>
>\- **Professor James Chien-Mo Li**

<p align="right">(<a href="#readme-top">back to top</a>)</p>

## License
Distributed under the MIT License. See `LICENSE` for more information.

<p align="right">(<a href="#readme-top">back to top</a>)</p>

## Contact
Wang, Wei-Shen - b08901051@ntu.edu.tw

Project Link:
https://github.com/NTU-LaDS-II/FAN_ATPG

<p align="right">(<a href="#readme-top">back to top</a>)</p>

## References

* [1] FAN algorithms - Fujiwara and Shimono, "On the Acceleration of Test Generation Algorithms," in IEEE Transactions on Computers, vol. C-32, no. 12, pp. 1137-1144, Dec. 1983.
* [2] Benchmark circuits - Brglez, Franc, David Bryan, and Krzysztof Kozminski. "Combinational profiles of sequential benchmark circuits." 1989 IEEE International Symposium on Circuits and Systems (ISCAS). IEEE, 1989.
* [3] Cell Library - Both `techlib/mod_nangate45.mdt` and `techlib/NangateOpenCellLibrary.v` are under `TECHLIB_LICENSE`

<p align="right">(<a href="#readme-top">back to top</a>)</p>

*Copyright(c) Laboratory of Dependable Systems(II), Graduate Institute of Electronics Engineering,  National Taiwan University, Taiwan. All Rights Reserved.*